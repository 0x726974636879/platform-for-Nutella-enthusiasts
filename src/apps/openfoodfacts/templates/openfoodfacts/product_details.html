{% extends "layouts/base.html" %}

{% load static %}
{% block content %}
<section class="page-section bg-dark text-white" style="background-image: url('{{ product.img_url }}'); background-repeat: no-repeat; background-size: cover; background-position: center center;">
    {% if no_products %}
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">Ooups!</h4>
        <p>Aww yeah, aucun produit trouvé.</p>
        <hr>
        <p class="mb-0"><a href="{% url 'core:home' %}">Retourner à l'accueil.</a></p>
      </div>
    {% else %}
        <div class="container text-center" >
            <h2 class="text-dark mb-4 bg-white">{{ product.product_name }}</h2>
        </div>
    {% endif %}
</section>
<h3 class="text-center my-5">Vous pouvez remplacer cet aliment par:</h3>
<section class="page-section p-0">
    <div class="container">
        <div class="row">
            {% for sub in substitutes %}
                <div class="col-md-4 mb-3">
                    <div class="thumbnail">
                        <a href="{% url 'openfoodfacts:search_product' %}">
                            <img
                                {% if not sub.img_url%}
                                    src="{% static 'divers/no-product-image.png' %}"
                                {% else %}
                                    src="{{ sub.img_url }}"
                                {% endif %}
                                alt="{{ sub.product_name }}"
                                style="width:100%; height:250px;"
                            />
                        </a>
                        <div class="caption text-center">
                            <p>{{ sub.product_name }}</p>
                            {% if user.is_authenticated %}
                                <a href="#">
                                    <i class="fa fa-hdd-o" aria-hidden="true"></i>
                                    Sauvegarder
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% empty %}
                <p>Désolé nous n'avons pas de produit pour remplacer celui la.</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock content %}